<div class="wrapper">
    <h1>Edit Panel</h1>

    <div class="content" *ngIf="this.course() !== undefined">
        <mat-accordion>
            <mat-expansion-panel hideToggle>
                <mat-expansion-panel-header>
                    <mat-panel-title>Edit Course Details</mat-panel-title>
                </mat-expansion-panel-header>
            
                <form class="update-course-form" #courseForm="ngForm">
                    <mat-form-field appearance="outline">
                        <mat-label>Course Title</mat-label>
                        <input matInput [(ngModel)]="course().title" name="title" #courseTitle="ngModel" required minlength="2" maxlength="100">
                        <mat-error *ngIf="courseTitle.getError('required')">Course title is required</mat-error>
                        <mat-error *ngIf="courseTitle.getError('minlength')">Course title must be at least 2 characters long</mat-error>
                        <mat-error *ngIf="courseTitle.getError('maxlength')">Course title cannot exceed 100 characters</mat-error>
                    </mat-form-field>
            
                    <mat-form-field appearance="outline">
                        <mat-label>Course Description</mat-label>
                        <textarea matInput [(ngModel)]="course().description" name="description" #courseDesc="ngModel" required maxlength="3000"></textarea>
                        <mat-error *ngIf="courseDesc.getError('required')">Course description is required</mat-error>
                    </mat-form-field>
                </form>

            </mat-expansion-panel>
        </mat-accordion>

        <app-course-lessons-edit #lessonsTable [courseId]="course().id"></app-course-lessons-edit>

        <div class="options">
            <div class="left">
                <button class="danger-color" mat-flat-button (click)="confirmDelete()">Delete Course</button>
            </div>
            
            <div class="right">
                <button mat-flat-button (click)="resetChanges()">Reset</button>
                <button class="save-button" mat-flat-button (click)="openConfirmationDialog()">Save Changes</button>
            </div>
        </div>
    </div>
</div>